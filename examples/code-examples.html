<!DOCTYPE html>
<html lang="en">
<head>
  <script>
  (function() {
    const base = document.createElement('base');
    const path = window.location.pathname;

    // Detect GitHub Pages subdirectory or custom domain
    if (path.startsWith('/nocss/') || path === '/nocss') {
      base.href = '/nocss/';
    } else {
      base.href = '/';
    }

    document.head.insertBefore(base, document.head.firstChild);
  })();
  </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Syntax Highlighting - NoCSS</title>
  <link rel="stylesheet" href="/dist/nocss.css">
  <script src="/dist/component-loader.js"></script>
  <script src="/dist/nocss.js" defer></script>
</head>
<body>
  <!-- Navigation Component -->
  <header data-component="header"></header>

  <main>
    <header>
      <h1>Syntax Highlighting</h1>
      <p>Examples of HTML, CSS and JavaScript code with automatic syntax highlighting.</p>
    </header>

    <section>
      <h2>HTML</h2>
      <p>HTML code example with colored tags, attributes and comments:</p>

      <pre data-lang="html"><code>&lt;!-- Contact form --&gt;
&lt;form action="/submit" method="post"&gt;
  &lt;label for="name"&gt;Name&lt;/label&gt;
  &lt;input type="text" id="name" name="name" required&gt;

  &lt;label for="email"&gt;Email&lt;/label&gt;
  &lt;input type="email" id="email" name="email" required&gt;

  &lt;button type="submit"&gt;Submit&lt;/button&gt;
&lt;/form&gt;</code></pre>
    </section>

    <section>
      <h2>CSS</h2>
      <p>CSS code example with colored selectors, properties and values:</p>

      <pre data-lang="css"><code>/* Form styles */
form {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
  padding: var(--space-6);
  background-color: var(--color-background);
  border-radius: var(--radius-lg);
}

input[type="text"],
input[type="email"] {
  padding: 10px;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: 16px;
}

button {
  background-color: rgb(59, 130, 246);
  color: white;
  padding: 12px 24px;
  border: none;
  cursor: pointer;
}</code></pre>
    </section>

    <section>
      <h2>JavaScript</h2>
      <p>JavaScript code example with colored keywords, functions and comments:</p>

      <pre data-lang="javascript"><code>// Form validation module
const FormValidator = {
  /**
   * Validates an email field
   */
  validateEmail(email) {
    const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return regex.test(email);
  },

  /**
   * Submits the form
   */
  async submitForm(formData) {
    try {
      const response = await fetch('/api/submit', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(formData)
      });

      if (!response.ok) {
        throw new Error('Submission error');
      }

      const result = await response.json();
      return { success: true, data: result };
    } catch (error) {
      console.error('Error:', error);
      return { success: false, error: error.message };
    }
  },

  init() {
    const form = document.querySelector('form');
    if (!form) return;

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      const formData = {
        name: form.name.value,
        email: form.email.value
      };

      if (!this.validateEmail(formData.email)) {
        alert('Invalid email');
        return;
      }

      const result = await this.submitForm(formData);

      if (result.success) {
        console.log('Form submitted successfully!');
      }
    });
  }
};

// Initialization
document.addEventListener('DOMContentLoaded', () => {
  FormValidator.init();
});</code></pre>
    </section>

    <section>
      <h2>Mixed Content HTML + CSS + JS</h2>
      <p>Use <code>data-lang="mixed"</code> to automatically highlight HTML containing <code>&lt;style&gt;</code> and <code>&lt;script&gt;</code> tags:</p>

      <pre data-lang="mixed"><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;My Page&lt;/title&gt;
  &lt;style&gt;
    body {
      font-family: system-ui, sans-serif;
      background-color: #f5f5f5;
      color: #333;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div class="container"&gt;
    &lt;h1&gt;Hello World&lt;/h1&gt;
    &lt;p&gt;This is a demo page.&lt;/p&gt;
  &lt;/div&gt;

  &lt;script&gt;
    // JavaScript gets highlighted too!
    const greeting = 'Hello from NoCSS';

    document.addEventListener('DOMContentLoaded', () =&gt; {
      console.log(greeting);

      const title = document.querySelector('h1');
      title.style.color = 'blue';
    });
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

      <p>The tokenizer automatically detects CSS and JavaScript regions and applies appropriate highlighting for each language.</p>
    </section>

    <section>
      <h2>Features</h2>

      <article>
        <h3>No Classes or Inline Styles</h3>
        <p>Syntax highlighting works with:</p>
        <ul>
          <li>A simple <code>data-lang</code> attribute on the <code>&lt;pre&gt;</code></li>
          <li>No CSS classes in HTML</li>
          <li>No inline styles</li>
          <li>Automatic tokenization on page load</li>
        </ul>
      </article>

      <article>
        <h3>Supported Languages</h3>
        <ul>
          <li><strong>HTML/XML</strong> - Tags, attributes, comments</li>
          <li><strong>CSS</strong> - Selectors, properties, values, functions</li>
          <li><strong>JavaScript</strong> - Keywords, functions, strings, comments</li>
          <li><strong>Mixed</strong> - HTML with embedded CSS and JavaScript (use <code>data-lang="mixed"</code>)</li>
        </ul>
      </article>

      <article>
        <h3>Adaptive Theme</h3>
        <p>Highlighting automatically adapts to dark mode using <code>prefers-color-scheme</code>.</p>
      </article>
    </section>

    <section>
      <h2>Usage</h2>

      <p>To use syntax highlighting, simply add the <code>data-lang</code> attribute to your <code>&lt;pre&gt;</code> element:</p>

      <pre data-lang="html"><code>&lt;pre data-lang="html"&gt;&lt;code&gt;
  &lt;!-- Your HTML code here --&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;pre data-lang="css"&gt;&lt;code&gt;
  /* Your CSS code here */
&lt;/code&gt;&lt;/pre&gt;

&lt;pre data-lang="javascript"&gt;&lt;code&gt;
  // Your JavaScript code here
&lt;/code&gt;&lt;/pre&gt;

&lt;pre data-lang="mixed"&gt;&lt;code&gt;
  &lt;!-- HTML with embedded &lt;style&gt; and &lt;script&gt; --&gt;
&lt;/code&gt;&lt;/pre&gt;</code></pre>

      <p>The NoCSS script will automatically detect code blocks and apply syntax highlighting without requiring classes or inline styles.</p>
    </section>
  </main>

  <!-- Footer Component -->
  <footer data-component="footer"></footer>
</body>
</html>
